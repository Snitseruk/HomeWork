<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Home Work</title>
</head>

<body>
    <script>
        /*Вам нужно переписать вашу 
        функцию-конструктор для создания студентов на классы*/
        class Student {
            constructor(name, surname, bday) {
                this.name = name,
                    this.surname = surname,
                    this.bday = bday,
                    this.attendance = new Array(30);
                this.counterMarks = 0;
                this.marksArray = new Array(30);
            };

            get fullName() {
                return `${this.name} ${this.surname}`
            };
            get age() {
                const currentDate = new Date;
                return currentDate.getFullYear() - this.bday;
            };

            mark(el) {
                let markIndex = this.marksArray.findIndex((el) => el == undefined);
                if (markIndex > -1) {
                    this.marksArray.splice(markIndex, 1, el);
                }
            };

            get averageMark() {
                let marksIndex = this.marksArray.findIndex((el) => el == undefined);
                if (marksIndex > -1) {
                    return this.marksArray.reduce((a, b) => a + b) / marksIndex;
                } else if (marksIndex === 30) {
                    return this.marksArray.reduce((a, b) => a + b) / 30;
                }
            };

            present() {
                let presentIndex = this.attendance.findIndex((el) => el == undefined);
                if (presentIndex > -1) {
                    this.attendance.splice(presentIndex, 1, true);
                } else if (presentIndex <= -1) {
                    console.log("Проверьте посещаемость.Занятий больше нет")
                }
            };
            absent() {
                let absentIndex = this.attendance.findIndex((el) => el == undefined);
                if (absentIndex > -1) {
                    this.attendance.splice(absentIndex, 1, false);
                } else if (presentIndex <= -1) {
                    console.log("Проверьте посещаемость.Занятий больше нет")
                }
            };

            get averageAttendance() {
                let totalIndex = this.attendance.findIndex((el) => el === undefined);
                if (totalIndex === -1) {
                    return this.attendance.reduce((a, b) => a + b) / 30;
                } else {
                    return this.attendance.reduce((a, b) => a + b) / totalIndex;
                }

            }

            summary() {
                if (this.averageMark >= 9 && this.averageAttendance >= 0.9) {
                    return 'Ути, какой молодчинка!';
                } else if ((this.averageMark >= 9 && this.averageAttendance < 0.9) || (this.averageMark <= 9 && this.averageAttendance > 0.9)) {
                    return 'Норм, но можно лучше';
                } else if (this.averageMark < 9 && this.averageAttendance < 0.9) {
                    return 'Редиска!';
                }
            };

        };
        const Oleg = new Student('Oleg', 'Petrov', 1987);
        const Ivan = new Student('Ivan', 'Ivanov', 1990);

        console.log(Oleg.fullName);
        console.log(Ivan.fullName);
        console.log(Oleg.age);
        console.log(Ivan.age);
        Ivan.mark(10);
        Ivan.mark(8);
        Ivan.mark(10);
        Ivan.mark(9);
        Oleg.mark(5);
        Oleg.mark(6);
        Oleg.mark(7);
        Oleg.mark(8);
        Oleg.mark(9);
        Oleg.mark(10);
        console.log(Oleg.marksArray);
        console.log(Ivan.marksArray);
        console.log(Ivan.averageMark);
        console.log(Oleg.averageMark);

        Oleg.present();
        Oleg.present();
        Oleg.absent();
        Oleg.present();
        Oleg.present();

        Ivan.absent();
        Ivan.present();
        Ivan.present();
        Ivan.present();
        Ivan.present();
        Ivan.present();
        Ivan.present();
        Ivan.present();
        Ivan.present();
        Ivan.present();
        console.log(Oleg.attendance);
        console.log(Oleg.attendance);

        console.log(Ivan.averageAttendance);
        console.log(Oleg.averageAttendance);
        console.log(Oleg.summary());
        console.log(Ivan.summary());


    </script>

</body>

</html>